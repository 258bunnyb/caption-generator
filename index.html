<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CaptionCraft AI - Instagram Caption Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 min-h-screen">
    <div id="app" class="max-w-4xl mx-auto p-6">
        <div class="text-center mb-8 pt-8">
            <div class="flex items-center justify-center gap-2 mb-3">
                <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                </svg>
                <h1 class="text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                    CaptionCraft AI
                </h1>
            </div>
            <p class="text-gray-600 mb-4">Create engaging Instagram captions in seconds</p>
            <div id="statusBadge" class="inline-flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-full font-medium">
                Free Plan: <span id="captionCount">0</span>/3 captions used today
            </div>
        </div>

        <div class="bg-white rounded-2xl shadow-xl p-6 mb-6">
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">What's your post about?</label>
                    <textarea id="topicInput" placeholder="E.g., Morning coffee routine, New product launch, Travel photo from Paris..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none" rows="3"></textarea>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Choose your tone</label>
                    <div id="toneButtons" class="grid grid-cols-2 md:grid-cols-3 gap-2"></div>
                </div>

                <button id="generateBtn" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all">
                    <svg class="w-5 h-5 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                    </svg>
                    Generate Captions
                </button>
            </div>
        </div>

        <div id="results" class="space-y-4 hidden"></div>

        <div id="upgradeModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
            <div class="bg-white rounded-2xl max-w-md w-full p-8 relative">
                <button id="closeModal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl">√ó</button>
                <div class="text-center">
                    <div class="w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">Upgrade to Pro</h2>
                    <p id="modalText" class="text-gray-600 mb-6">Unlock unlimited captions!</p>
                    <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 mb-6 text-left">
                        <div class="space-y-3">
                            <div class="flex items-center gap-3">
                                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                                <span class="text-gray-700">Unlimited captions daily</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg>
                                <span class="text-gray-700">6 premium tones</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span class="text-gray-700">Priority support</span>
                            </div>
                        </div>
                    </div>
                    <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-xl transition-all">Start Pro - $9/month</button>
                    <p class="text-sm text-gray-500 mt-3">Cancel anytime ‚Ä¢ 7-day money-back guarantee</p>
                    <button id="maybeLater" class="w-full text-gray-600 py-2 hover:text-gray-800 mt-2">Maybe later</button>
                </div>
            </div>
        </div>

        <div class="mt-12 bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold mb-2">Simple, Transparent Pricing</h2>
                <p class="text-gray-600">Choose the plan that works for you</p>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="border-2 border-gray-200 rounded-xl p-6">
                    <h3 class="text-xl font-bold mb-2">Free</h3>
                    <div class="text-3xl font-bold mb-4">$0<span class="text-lg text-gray-500">/month</span></div>
                    <ul class="space-y-3 mb-6">
                        <li class="flex items-center gap-2"><svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>3 captions per day</span></li>
                        <li class="flex items-center gap-2"><svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>3 basic tones</span></li>
                    </ul>
                    <button disabled class="w-full py-3 border-2 border-gray-300 rounded-lg font-semibold text-gray-700 opacity-50">Current Plan</button>
                </div>
                <div class="border-2 border-purple-600 rounded-xl p-6 relative bg-gradient-to-br from-purple-50 to-pink-50">
                    <div class="absolute -top-3 right-6 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-4 py-1 rounded-full text-sm font-bold">POPULAR</div>
                    <h3 class="text-xl font-bold mb-2">Pro</h3>
                    <div class="text-3xl font-bold mb-4">$9<span class="text-lg text-gray-500">/month</span></div>
                    <ul class="space-y-3 mb-6">
                        <li class="flex items-center gap-2"><svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span class="font-medium">Unlimited captions</span></li>
                        <li class="flex items-center gap-2"><svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span class="font-medium">9 premium tones</span></li>
                        <li class="flex items-center gap-2"><svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span class="font-medium">Priority support</span></li>
                    </ul>
                    <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-bold hover:shadow-xl transition-all">Upgrade to Pro</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedTone='engaging',isPro=false,dailyCount=0;const FREE_LIMIT=3,freeTones=['engaging','professional','casual'],proTones=['funny','inspirational','storytelling','viral hooks','luxury brand','motivational'];function init(){loadDailyCount(),renderToneButtons(),setupEventListeners()}function loadDailyCount(){const today=new Date().toDateString(),stored=localStorage.getItem('captionData');if(stored){const data=JSON.parse(stored);data.date===today?dailyCount=data.count||0:(dailyCount=0,saveDailyCount())}updateCountDisplay()}function saveDailyCount(){const today=new Date().toDateString();localStorage.setItem('captionData',JSON.stringify({date:today,count:dailyCount}))}function updateCountDisplay(){document.getElementById('captionCount').textContent=dailyCount}function renderToneButtons(){const container=document.getElementById('toneButtons');container.innerHTML='',freeTones.forEach(tone=>{container.appendChild(createToneButton(tone,false))}),proTones.forEach(tone=>{container.appendChild(createToneButton(tone,true))})}function createToneButton(tone,isProTone){const btn=document.createElement('button'),isSelected=selectedTone===tone;return isProTone&&!isPro?(btn.className='px-4 py-2 rounded-lg font-medium transition-all bg-gradient-to-r from-yellow-100 to-orange-100 text-gray-700 hover:from-yellow-200 hover:to-orange-200',btn.innerHTML=tone.charAt(0).toUpperCase()+tone.slice(1)+' üîí',btn.onclick=()=>showUpgradeModal(false)):(btn.className=isSelected?'px-4 py-2 rounded-lg font-medium transition-all bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg':'px-4 py-2 rounded-lg font-medium transition-all bg-gray-100 text-gray-700 hover:bg-gray-200',btn.textContent=tone.charAt(0).toUpperCase()+tone.slice(1),btn.onclick=()=>{selectedTone=tone,renderToneButtons()}),btn}function setupEventListeners(){document.getElementById('generateBtn').addEventListener('click',generateCaptions),document.getElementById('closeModal').addEventListener('click',hideUpgradeModal),document.getElementById('maybeLater').addEventListener('click',hideUpgradeModal)}function showUpgradeModal(limitReached){const modal=document.getElementById('upgradeModal'),text=document.getElementById('modalText');text.textContent=limitReached?"You've used all your free captions for today!":"Unlock premium tones and unlimited captions",modal.classList.remove('hidden')}function hideUpgradeModal(){document.getElementById('upgradeModal').classList.add('hidden')}async function generateCaptions(){const topic=document.getElementById('topicInput').value.trim();if(!topic){alert('Please enter a topic!');return}if(!isPro&&dailyCount>=FREE_LIMIT){showUpgradeModal(true);return}if(!isPro&&proTones.includes(selectedTone)){showUpgradeModal(false);return}const btn=document.getElementById('generateBtn');btn.disabled=true,btn.innerHTML='‚è≥ Generating...';try{const response=await fetch('https://api.anthropic.com/v1/messages',{method:'POST',headers:{'Content-Type':'application/json','anthropic-version':'2023-06-01','x-api-key':''},body:JSON.stringify({model:'claude-sonnet-4-20250514',max_tokens:1024,messages:[{role:'user',content:`Generate 3 Instagram captions for: "${topic}". Tone: ${selectedTone}. Return as JSON array with caption, hashtags array, and cta fields.`}]})});if(!response.ok)throw new Error('API error');const data=await response.json(),text=data.content[0].text,captions=JSON.parse(text.replace(/```json|```/g,'').trim());displayResults(captions),isPro||(dailyCount++,saveDailyCount(),updateCountDisplay())}catch(err){console.error(err);const fallbackCaptions=[{caption:`‚ú® ${topic} ‚ú®\n\nThere's something magical about this moment! Can't wait to share more with you all. What do you think?`,hashtags:['instagram','content','daily','vibes','inspiration'],cta:'Double tap if you love this! ‚ù§Ô∏è'}];displayResults(fallbackCaptions),isPro||(dailyCount++,saveDailyCount(),updateCountDisplay())}finally{btn.disabled=false,btn.innerHTML='<svg class="w-5 h-5 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg> Generate Captions'}}function displayResults(captions){const container=document.getElementById('results');container.innerHTML='',container.classList.remove('hidden'),captions.forEach((item,idx)=>{const fullCaption=`${item.caption}\n\n${item.cta}\n\n${item.hashtags.map(t=>'#'+t).join(' ')}`,card=document.createElement('div');card.className='bg-white rounded-2xl shadow-xl p-6',card.innerHTML=`<div class="flex justify-between mb-4"><h3 class="text-lg font-semibold">Caption ${idx+1}</h3><button onclick="copyCaption(${idx})" class="px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200">Copy</button></div><div class="space-y-3"><div class="bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg"><p class="text-gray-800">${item.caption}</p></div><div class="bg-orange-50 p-3 rounded-lg"><p class="text-sm font-medium text-orange-800">${item.cta}</p></div><div
